<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> bootstrap + ajax </title>

    <link rel="stylesheet" href="bootstrap.css">
    <script src="bootstrap.css.map"></script>


</head>
<body>
    

    <button type="button" onclick="getBtn()" class="btn btn-outline-primary">Primary</button>
    <button type="button" class="btn btn-outline-secondary">Secondary</button>
    <button type="button" class="btn btn-outline-success" onclick="callB()" >Success</button>
    <button type="button" class="btn btn-outline-danger">Danger</button>
    <button type="button" class="btn btn-outline-warning">Warning</button>
    <button type="button" class="btn btn-outline-info">Info</button>
    <button type="button" class="btn btn-outline-light">Light</button>
    <button type="button" class="btn btn-outline-dark">Dark</button>


    <script src="lib/jquery-3.7.1.min.js"></script>
    <script>


        // callBack
        // 중복 된 코드를 최소화 시키는 것이 주 목적
        // 특징은 매개변수에 함수가 들어간다.
        

        function callB(){

            cb(first);


            setTimeout(function(){

            }, 1000);

        }

        let second = () => {
            alert("second");
        }


        function cb(fn){
            fn();
            console.log('실행 영역');
        }


        function callB() {

            function abc() {

                alert('abc');
            }

            let fn = () => {
                alert("fn");
            }

            fn();


            callC(function() {

                alert('a의 동작');

            }, 5);

        }

        // A랑 협력을 해야하는데, A가 지각을 합니다.
        // B 라는 사람이 만들기로 했고, 

        function callC(fn, number) {

            // A의 역할
            fn();

            // B의 역할
            alert(number * number);

        }



        /*
        

        GET 방식
        데이터를 주고 받을 때, URL(주소창)에 값을 올려주고 데이터를 건네주는 방식
        보안은 취약, 어떤 데이터를 주는가 다 보인다.
        통신방식 중, 빠르다.

        POST
        데이터를 주고 받을 때,
        request라고 한다.

        head, body ( request라는 상자 안의 body 영역에 숨겨 놓는다. )
        일반인한테 공개 x
         
        post 방식은 대부분 body 영역에 값을 담아놓는다.

        jsp는 post방식할 때, data를 body 영역에 두지 않는다.





        */

        function getBtn() {


            // 비동기 통신
            $.ajax({

                type: 'get',
                data: 'http://localhost:3000/get',
                success: function(res){
                    console.log(res);
                }


            });


        }


        // 2번째 버튼 실행
        document.querySelectorAll('button[type="button"]')[1].addEventListener('click', function() {


            let obj = {name: '슈퍼맨'};
            console.log(obj);


            $.ajax({
                url: 'http://localhost:3000/send1',
                type: 'post',
                data: JSON.stringify(obj),
                contentType: 'application/json',
                success: function(res){
                    console.log(res);
                }
            })


        });

    </script>


</body>
</html>